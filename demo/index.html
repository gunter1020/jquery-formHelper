<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FormHelper Demo</title>

    <!-- bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />

    <!-- font-awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />

    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <!-- formhelper -->
    <link rel="stylesheet" href="/dist/css/jquery-formhelper.min.css" />
    <script type="text/javascript" src="/dist/js/jquery-formhelper.min.js" defer></script>

    <style>
      .ctrl-demo {
        background-color: burlywood;
        width: 50%;
      }
    </style>

    <!-- example -->
    <script>
      $(function () {
        var formhelper = $('.ctrl-demo').formhelper();

        var fileDemo1 = formhelper.addFilePicker({
          canRemove: true,
          canModify: false,
          fileInput: {
            name: 'fileDemo1[]',
            accept: [],
            multiple: false,
          },
          onChange: function () {
            var total = formhelper.getFilePickerInfo();
            var totalText = ['Total', 'count: ' + total.count, 'size: ' + total.sizeHum];
            var selfText = ['Demo1', 'count: ' + fileDemo1.getCount(), 'size: ' + fileDemo1.getSize(true)];

            $('.ctrl-filepicker-total').text(totalText.join(' | '));
            $('.ctrl-filepicker-demo1').text(selfText.join(' | '));
          },
        });

        var fileDemo2 = formhelper.addFilePicker({
          canRemove: false,
          canModify: true,
          canDragDrop: true,
          fileInput: {
            name: 'fileDemo2[]',
            accept: ['image/*', '.pdf', '.doc', '.docx', '.xml', 'application/msword'],
            multiple: true,
          },
          onChange: function () {
            var total = formhelper.getFilePickerInfo();
            var totalText = ['Total', 'count: ' + total.count, 'size: ' + total.sizeHum];
            var selfText = ['Demo2', 'count: ' + fileDemo2.getCount(), 'size: ' + fileDemo2.getSize(true)];

            $('.ctrl-filepicker-total').text(totalText.join(' | '));
            $('.ctrl-filepicker-demo2').text(selfText.join(' | '));
          },
        });

        // add static file
        fileDemo1.addFileBox({
          inputs: [
            {name: 'hideValue', value: 'demo'}
          ],
          files: [
            {
              name: 'Gunter.png',
              size: 11179,
              link: 'https://static.wikia.nocookie.net/adventuretimewithfinnandjake/images/6/68/Gunter.png',
            },
            {
              name: 'Orgalorg.png',
              size: 356745,
              link: '',
            },
          ],
        });
      });
    </script>
  </head>
  <body>
    <div class="ctrl-filepicker-demo1">&nbsp;</div>
    <div class="ctrl-filepicker-demo2">&nbsp;</div>
    <div class="ctrl-filepicker-total">&nbsp;</div>
    <form class="ctrl-demo"></form>
  </body>
</html>
