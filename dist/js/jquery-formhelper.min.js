!function e(i,t,n){function l(a,r){if(!t[a]){if(!i[a]){var o="function"==typeof require&&require;if(!r&&o)return o(a,!0);if(f)return f(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var s=t[a]={exports:{}};i[a][0].call(s.exports,(function(e){return l(i[a][1][e]||e)}),s,s.exports,e,i,t,n)}return t[a].exports}for(var f="function"==typeof require&&require,a=0;a<n.length;a++)l(n[a]);return l}({1:[function(e,i,t){"use strict";var n=e("./lib/filePicker.js");!function(e){if(!$)throw"formHelper requires jQuery to be loaded first";$.fn.formhelper=function(e){return this.each((function(){var i=$(this);i.data("FormHelper")||(e=$.extend(!0,{},$.fn.formhelper.defaults,e),i.data("FormHelper",function(e,i){var t={},l={filePicker:new n.filePicker(e,i)};return t.addFilePicker=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.filePicker.addPicker(e)},t.getFilePickerInfo=function(){return l.filePicker.getAllInfo()},t.check=function(){try{l.filePicker.check()}catch(e){if("function"!=typeof i.onFail)throw e;return i.onFail(e),!1}return!0},t.submit=function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.check()){var n=new FormData(e.get(0));return $.isEmptyObject(t)||$.each(t,(function(e,i){Array.isArray(i)?i.map((function(i){n.append("".concat(e,"[]"),String(i))})):n.append(e,String(i))})),$.ajax({url:i,data:n,dataType:"json",processData:!1,contentType:!1,cache:!1,method:"POST"})}},t}(i,e)))})),this.data("FormHelper")},$.fn.formhelper.defaults={filePicker:{canRemove:!0,canModify:!0,container:!1,maxBytes:10485760,maxFiles:10,onChange:!1,onCreate:!1,onRemove:!1,fileInput:{name:"files[]",accept:"",multiple:!1}},language:{selectFile:"Select file",selectingFile:"Selecting files...",unselectFile:"No files selected.",limitMsg:"File size limit (MB)",invalidMsg:"File format not supported.",fileSizeOverload:"File size overload!",fileCountOverload:"File count overload!"},templates:{filePicker:!1,fileBox:!1},onFail:function(e){alert("[".concat(e.code,"] ").concat(e.msg))}}}()},{"./lib/filePicker.js":2}],2:[function(e,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filePicker=void 0;t.filePicker=function(e,i){var t=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=i.language,l=function(e){var i=e<1?0:Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/Math.pow(1024,i)).toFixed(2).toString()," ").concat(t[i])},f=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e="function"==typeof i.templates.filePicker?$(i.templates.filePicker(t)):i.templates.filePicker?$(i.templates.filePicker):$("<div>").addClass("fh-file-picker").append($("<button>").attr({type:"button"}).addClass("btn btn-success fh-file-select").append($("<span>").text(n.selectFile).prepend($("<i>").addClass("fas fa-plus fa-fw")))).append($("<div>").addClass("fh-file-block").append($("<span>").addClass("fh-file-limit").text(n.limitMsg)).append($("<span>").addClass("fh-file-unselect").text(n.unselectFile)).append($("<div>").addClass("fh-file-list"))),u(e,t),e},a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof i.templates.fileBox)e=$(i.templates.fileBox(t));else if(i.templates.fileBox)e=$(i.templates.fileBox);else{var f=[];e=$("<div>").addClass("fh-file-box").css("background-color",t.isInvalid?"#FCDEDE":"#F5F5F5"),t.$fileInput&&e.append(t.$fileInput.attr({type:"file",name:t.fileInput.name,accept:t.fileInput.accept,multiple:t.fileInput.multiple}).addClass("fh-file-input").hide()),t.inputs&&$.each(t.inputs,(function(i,t){e.append($("<input>").attr({type:"hidden",name:t.name,value:t.value}))})),t.files&&t.files.length?$.each(t.files,(function(i,t){e.append($("<span>").addClass("fh-file-info").text("".concat(t.name," (").concat(l(t.size),")")).prepend($("<i>").addClass("far fa-file fa-fw")))})):e.append($("<span>").addClass("fh-file-info").text(n.selectingFile)),t.isInvalid&&e.append($("<em>").text(i.language.invalidMsg)),t.canModify&&t.$fileInput&&f.push($("<span>").addClass("fh-file-modify").append($("<i>").addClass("fas fa-pen fa-fw"))),t.canRemove&&f.push($("<span>").addClass("fh-file-remove").append($("<i>").addClass("fas fa-times fa-fw"))),f.length&&e.append($("<div>").addClass("fh-file-toolbar").append(f))}return d(e,t),e},r=function(e){var i=0;return $.each(e.find(".fh-file-input"),(function(){$.each($(this).prop("files"),(function(e,t){i+=t.size}))})),i},o=function(e){var i=0;return $.each(e.find(".fh-file-input"),(function(){i+=$(this).prop("files").length})),i},c=function(e){var i=e.$filePicker.find(".fh-file-select"),t=e.$filePicker.find(".fh-file-unselect"),n=o(e.$filePicker);t.length&&(n?t.hide():t.show()),n>=e.maxFiles?i.attr("disabled",!0):i.attr("disabled",!1),"function"==typeof e.onChange&&e.onChange()},s=function(e){"function"==typeof e.onCreate&&e.onCreate()},p=function(e){"function"==typeof e.onRemove&&e.onRemove()},u=function(e,i){var t=e.find(".fh-file-list"),n=e.find(".fh-file-select"),l=$("<input>").attr({type:"file",accept:i.fileInput.accept,multiple:i.fileInput.multiple});n.on("click",(function(){l.trigger("click")})),l.on("change.formhelper",(function(){var e=l.prop("files");if(e.length>0){var n=$.extend(!0,{},i,{files:e,$fileInput:l.clone()});t.append(a(n)),s(n),c(n)}l.prop("type","").prop("type","file")}))},d=function(e,i){var t=e.find(".fh-file-input"),n=e.find(".fh-file-modify"),l=e.find(".fh-file-remove");t.on("change",(function(){if(t.prop("files").length>0){var n=$.extend(!0,{},i,{files:t.prop("files"),$fileInput:t.clone()});e.after(a(n)).remove(),c(n)}else p(i),c(i),e.remove()})),n.on("click",(function(){t.trigger("click")})),l.on("click",(function(){e.remove(),p(i),c(i)}))},h=function(i,t){this.code=i,this.msg=n[i]||"",this.$el=t||e,this.api=this.$el.data("FilePicker")||{}};return this.addPicker=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=$.extend(!0,{},i.filePicker,t)).$filePicker=f(t);var n=t.$filePicker.find(".fh-file-list");return t.api={getSize:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=r(t.$filePicker);return e?l(i):i},getCount:function(){return o(t.$filePicker)},addFileBox:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a($.extend(!0,{},t,e));return n.append(i),s(newConfig),c(t),i}},t.$filePicker.data("FilePicker",t.api),$(t.container||e).append(t.$filePicker),t.api},this.getAllInfo=function(){var i={size:0,sizeHum:"",count:0,picker:[]};return $.each(e.find(".fh-file-picker"),(function(){var e=$(this);if(e.data("FilePicker")){var t=r(e),n=o(e);i.size+=t,i.count+=n,i.picker.push({$filePicker:e,size:t,count:n})}})),i.sizeHum=l(i.size),i},this.check=function(){var e=this.getAllInfo();if(e.totalSize>i.filePicker.maxBytes)throw new h("fileSizeOverload");$.each(e.picker,(function(e,t){if(t.count>i.filePicker.maxFiles)throw new h("fileCountOverload",t.$filePicker)}))},this}},{}]},{},[1]);