!function e(i,n,t){function a(l,r){if(!n[l]){if(!i[l]){var o="function"==typeof require&&require;if(!r&&o)return o(l,!0);if(f)return f(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[l]={exports:{}};i[l][0].call(p.exports,(function(e){return a(i[l][1][e]||e)}),p,p.exports,e,i,n,t)}return n[l].exports}for(var f="function"==typeof require&&require,l=0;l<t.length;l++)a(t[l]);return a}({1:[function(e,i,n){"use strict";!function(e){if(!$)throw"formHelper requires jQuery to be loaded first";$.fn.formhelper=function(e){return this.each((function(){var i=$(this);i.data("FormHelper")||(e=$.extend(!0,{},$.fn.formhelper.defaults,e),i.data("FormHelper",function(e,i){var n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],t=i.language,a={},f=function(e){var i=e<1?0:Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/Math.pow(1024,i)).toFixed(2).toString()," ").concat(n[i])},l=function(e,i){this.code=e,this.msg=t[e],this.$filePicker=i,this.api=i.data("FilePicker")},r=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e="function"==typeof i.templates.filePicker?$(i.templates.filePicker(n)):i.templates.filePicker?$(i.templates.filePicker):$("<div>").addClass("fh-file-picker").append($("<button>").attr({type:"button"}).addClass("btn btn-success fh-file-select").append($("<span>").text(t.selectFile).prepend($("<i>").addClass("fas fa-plus fa-fw")))).append($("<div>").addClass("fh-file-block").append($("<span>").addClass("fh-file-limit").text(t.limitMsg)).append($("<span>").addClass("fh-file-unselect").text(t.unselectFile)).append($("<div>").addClass("fh-file-list"))),h(e,n),e},o=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof i.templates.fileBox)e=$(i.templates.fileBox(n));else if(i.templates.fileBox)e=$(i.templates.fileBox);else{var a=[];e=$("<div>").addClass("fh-file-box").css("background-color",n.isInvalid?"#FCDEDE":"#F5F5F5"),n.$fileInput&&e.append(n.$fileInput.attr({type:"file",name:n.fileInput.name,accept:n.fileInput.accept,multiple:n.fileInput.multiple}).addClass("fh-file-input").hide()),n.inputs&&$.each(n.inputs,(function(i,n){e.append($("<input>").attr({type:"hidden",name:n.name,value:n.value}))})),n.files&&n.files.length?$.each(n.files,(function(i,n){e.append($("<span>").addClass("fh-file-info").text("".concat(n.name," (").concat(f(n.size),")")).prepend($("<i>").addClass("far fa-file fa-fw")))})):e.append($("<span>").addClass("fh-file-info").text(t.selectingFile)),n.isInvalid&&e.append($("<em>").text(i.language.invalidMsg)),n.canModify&&n.$fileInput&&a.push($("<span>").addClass("fh-file-modify").append($("<i>").addClass("fas fa-pen fa-fw"))),n.canRemove&&a.push($("<span>").addClass("fh-file-remove").append($("<i>").addClass("fas fa-times fa-fw"))),a.length&&e.append($("<div>").addClass("fh-file-toolbar").append(a))}return m(e,n),e},c=function(e){var i=0;return $.each(e.find(".fh-file-input"),(function(){$.each($(this).prop("files"),(function(e,n){i+=n.size}))})),i},p=function(e){var i=0;return $.each(e.find(".fh-file-input"),(function(){i+=$(this).prop("files").length})),i},s=function(e){var i=e.$filePicker.find(".fh-file-select"),n=e.$filePicker.find(".fh-file-unselect"),t=p(e.$filePicker);n.length&&(t?n.hide():n.show()),t>=e.maxFiles?i.attr("disabled",!0):i.attr("disabled",!1),"function"==typeof e.onChange&&e.onChange()},d=function(e){"function"==typeof e.onCreate&&e.onCreate()},u=function(e){"function"==typeof e.onRemove&&e.onRemove()},h=function(e,i){var n=e.find(".fh-file-list"),t=e.find(".fh-file-select"),a=$("<input>").attr({type:"file",accept:i.fileInput.accept,multiple:i.fileInput.multiple});t.on("click",(function(){a.trigger("click")})),a.on("change.formhelper",(function(){var e=a.prop("files");if(e.length>0){var t=$.extend(!0,{},i,{files:e,$fileInput:a.clone()});n.append(o(t)),d(t),s(t)}a.prop("type","").prop("type","file")}))},m=function(e,i){var n=e.find(".fh-file-input"),t=e.find(".fh-file-modify"),a=e.find(".fh-file-remove");n.on("change",(function(){if(n.prop("files").length>0){var t=$.extend(!0,{},i,{files:n.prop("files"),$fileInput:n.clone()});e.after(o(t)).remove(),s(t)}else u(i),s(i),e.remove()})),t.on("click",(function(){n.trigger("click")})),a.on("click",(function(){e.remove(),u(i),s(i)}))};return a.addFilePicker=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(n=$.extend(!0,{},i.filePicker,n)).$filePicker=r(n),n.api={getSize:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=c(n.$filePicker);return e?f(i):i},getCount:function(){return p(n.$filePicker)},addFileBox:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=o($.extend(!0,{},n,e));return n.$filePicker.find(".fh-file-list").append(i),d(newConfig),s(n),i}},$(n.container||e).append(n.$filePicker),n.$filePicker.data("FilePicker",n.api),n.api},a.getFilePickerInfo=function(){var i=0,n=0;return $.each(e.find(".fh-file-picker"),(function(){var e=$(this);i+=c(e),n+=p(e)})),{size:i,sizeHum:f(i),count:n}},a.check=function(){try{var n=0;$.each(e.find(".fh-file-picker"),(function(){var e=$(this);if(e.data("FilePicker")){if((n+=c(e))>i.filePicker.maxBytes)throw new l("fileSizeOverload",e);if(p(e)>i.filePicker.maxFiles)throw new l("fileCountOverload",e)}}))}catch(e){if("function"!=typeof i.onFail)throw e;return i.onFail(e.code,t[e.code]||""),!1}return!0},a.submit=function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.check()){var t=new FormData(e.get(0));return $.isEmptyObject(n)||$.each(n,(function(e,i){Array.isArray(i)?i.map((function(i){t.append("".concat(e,"[]"),String(i))})):t.append(e,String(i))})),$.ajax({url:i,data:t,dataType:"json",processData:!1,contentType:!1,cache:!1,method:"POST"})}},a}(i,e)))})),this.data("FormHelper")},$.fn.formhelper.defaults={filePicker:{canRemove:!0,canModify:!0,container:!1,maxBytes:10485760,maxFiles:10,onChange:!1,onCreate:!1,onRemove:!1,fileInput:{name:"files[]",accept:"",multiple:!1}},language:{selectFile:"Select file",selectingFile:"Selecting files...",unselectFile:"No files selected.",limitMsg:"File size limit (MB)",invalidMsg:"File format not supported.",fileSizeOverload:"File size overload!",fileCountOverload:"File count overload!"},templates:{filePicker:!1,fileBox:!1},onFail:function(e,i){alert("[".concat(e,"]").concat(i))}}}()},{}]},{},[1]);